"use strict";(self.webpackChunkapp_frontend=self.webpackChunkapp_frontend||[]).push([[892],{20892:function(a,e,n){n.r(e),n.d(e,{default:function(){return U}});var i,t,r=n(1413),o=n(29439),s=n(72791),l=n(87705),u=n(68835),c=n(81657),d=n(91523),m=n(8240),p=n(30589),f=n(94233),h=n(16931),g=n(2107),b=n(77942),x=n(28646),v=n(69025),_=n(74165),N=n(93433),j=n(15861),y=n(38658),C=n(68561),Z=n(30168),S=n(86538),k=S.ZP.div(i||(i=(0,Z.Z)(["\n  .img-card:hover .img-buttons {\n    display: block;\n  }\n\n  .img-buttons {\n    display: none;\n  }\n  .profile__:hover .img-buttons {\n    position: absolute;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 130px;\n    height: 100%;\n    text-align: center;\n    background-color: rgba(0, 0, 0, 0.5);\n    animation: fadeIn 0.7s;\n  }\n  @keyframes fadeIn {\n    0% {\n      opacity: 0;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n\n  .img-buttons > * {\n    color: var(--white);\n    background-color: transparent;\n  }\n"]))),w=n(80184),M=S.ZP.div(t||(t=(0,Z.Z)(["\n  /* The Modal (background) */\n  .modal {\n    display: block;\n    position: fixed; /* Stay in place */\n    z-index: 9999; /* Sit on top */\n    padding-top: 100px; /* Location of the box */\n    left: 0;\n    top: 0;\n    width: 100%; /* Full width */\n    height: 100%; /* Full height */\n    overflow: auto; /* Enable scroll if needed */\n    background-color: rgb(0, 0, 0); /* Fallback color */\n    background-color: rgba(\n      0,\n      0,\n      0,\n      0.9\n    ); /* Black w/ opacity */\n  }\n\n  /* Modal Content (Image) */\n  .modal-content {\n    margin: auto;\n    display: block;\n    width: 80%;\n    max-width: 700px;\n  }\n\n  /* Caption of Modal Image (Image Text) - Same Width as the Image */\n  #caption {\n    margin: auto;\n    display: block;\n    width: 80%;\n    max-width: 700px;\n    text-align: center;\n    color: #ccc;\n    padding: 10px 0;\n    height: 150px;\n  }\n\n  /* Add Animation - Zoom in the Modal */\n  .modal-content,\n  #caption {\n    animation-name: zoom;\n    animation-duration: 0.6s;\n  }\n\n  @keyframes zoom {\n    from {\n      transform: scale(0);\n    }\n    to {\n      transform: scale(1);\n    }\n  }\n\n  /* The Close Button */\n  .close {\n    position: absolute;\n    top: 15px;\n    right: 35px;\n    color: #f1f1f1;\n    font-size: 40px;\n    font-weight: bold;\n    transition: 0.3s;\n  }\n\n  .close:hover,\n  .close:focus {\n    color: #bbb;\n    text-decoration: none;\n    cursor: pointer;\n  }\n\n  /* 100% Image Width on Smaller Screens */\n  @media only screen and (max-width: 700px) {\n    .modal-content {\n      width: 100%;\n    }\n  }\n"])));var B=function(a){return(0,w.jsx)(M,{children:(0,w.jsxs)("div",{className:"modal",children:[(0,w.jsx)("span",{className:"close",onClick:a.onClose,children:"\xd7"}),(0,w.jsx)("img",{className:"modal-content",src:a.src,alt:a.alt})]})})},P=n(78967);var A=function(a){var e=(0,s.useState)(!1),n=(0,o.Z)(e,2),i=n[0],t=n[1],r=(0,s.useState)(null),l=(0,o.Z)(r,2),u=l[0],c=l[1],d=(0,s.useRef)(),m=function(){var e=a.value;return e?Array.isArray(e)?e:[e]:[]},p=function(){var e=(0,j.Z)((0,_.Z)().mark((function e(n){var i,r;return(0,_.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(i=n.target.files)&&i.length){e.next=4;break}return e.abrupt("return");case 4:return r=i[0],y.Z.validate(r,{storage:a.storage,image:!0}),t(!0),e.next=9,y.Z.upload(r,{storage:a.storage,image:!0});case 9:r=e.sent,d.current.value="",t(!1),a.onChange([].concat((0,N.Z)(m()),[r])),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(0),d.current.value="",console.error(e.t0),t(!1),C.Z.showMessage(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(a){return e.apply(this,arguments)}}(),f=a.max,g=a.readonly,b=(0,w.jsx)("label",{className:"profile__",children:(0,w.jsxs)("div",{className:"profile__avatar",style:{cursor:"pointer"},children:[(0,w.jsx)("img",{src:P.PM,style:{width:"130px",height:"130px",objectFit:"cover",borderRadius:"50%"},className:"lazyload"}),(0,w.jsx)(h.Z,{loading:i,iconClass:"fas fa-plus"}),(0,w.jsxs)("div",{className:"avatar__camera",children:[(0,w.jsx)("i",{className:"fa-solid fa-camera"}),(0,w.jsx)("input",{style:{display:"none"},disabled:i||g,accept:"image/*",type:"file",onChange:p,ref:d})]})]})});return(0,w.jsxs)(k,{children:[g||f&&m().map((function(a){return{uid:a.id||void 0,name:a.name,status:"done",url:a.downloadUrl}})).length>=f?null:b,m()&&m().length?(0,w.jsx)("div",{className:"d-flex flex-row flex-wrap",children:m().map((function(e){return(0,w.jsxs)("div",{className:"profile__",children:[(0,w.jsx)("div",{className:"profile__avatar",children:(0,w.jsx)("img",{alt:e.name,src:e.downloadUrl,style:{width:"130px",height:"130px",objectFit:"cover",borderRadius:"50%"}})}),(0,w.jsxs)("div",{className:"img-buttons rounded-bottom",children:[(0,w.jsx)("button",{type:"button",className:"btn btn-link",onClick:function(){return function(a){c({src:a.downloadUrl,alt:a.name})}(e)},children:(0,w.jsx)("i",{className:"fas fa-search"})}),!g&&(0,w.jsx)("button",{type:"button",className:"btn btn-link ml-2",onClick:function(){return n=e.id,void a.onChange(m().filter((function(a){return a.id!==n})));var n},children:(0,w.jsx)("i",{className:"fas fa-times"})})]})]},e.id)}))}):null,u&&(0,w.jsx)(B,{src:u.src,alt:u.alt,onClose:function(){c(null)}})]})},T=n(34141);function z(a){a.label;var e=a.name,n=a.hint,i=a.storage,t=a.max,r=(a.required,a.externalErrorMessage),o=(0,l.Gc)(),u=o.errors,c=o.formState,d=c.touched,m=c.isSubmitted,p=o.setValue,f=o.watch,h=o.register;(0,s.useEffect)((function(){h({name:e})}),[h,e]);var g=T.Z.errorMessage(e,u,d,m,r);return(0,w.jsxs)("div",{className:"form-group",children:[(0,w.jsx)("br",{}),(0,w.jsx)(A,{storage:i,value:f(e),onChange:function(n){p(e,n,{shouldValidate:!0,shouldDirty:!0}),a.onChange&&a.onChange(n)},max:t}),(0,w.jsx)("div",{className:"invalid-feedback",children:g}),Boolean(n)&&(0,w.jsx)("small",{className:"form-text text-muted",children:n})]})}z.defaultProps={max:void 0,required:!1};var I=z,R=n(40253),E=n(57463),G=n(25930),L=b.Ry().shape({firstName:x.Z.string((0,G.ag)("user.fields.firstName"),{max:80}),lastName:x.Z.string((0,G.ag)("user.fields.lastName"),{max:175}),phoneNumber:x.Z.string((0,G.ag)("user.fields.phoneNumber"),{matches:/^[0-9]/,max:8}),pays:x.Z.string((0,G.ag)("user.fields.pays"),{max:175}),occupation:x.Z.string((0,G.ag)("user.fields.occupation"),{max:175}),regionTunisie:x.Z.string((0,G.ag)("user.fields.region"),{max:175}),region:x.Z.string((0,G.ag)("user.fields.region"),{max:175}),avatars:x.Z.images((0,G.ag)("user.fields.avatars"),{max:1})});var U=function(){var a=(0,f.I0)(),e=(0,f.v9)(p.Z.selectLoadingUpdateProfile),n=(0,f.v9)(p.Z.selectCurrentUser),i=(0,s.useState)((function(){var a=n||{};return{firstName:a.firstName,lastName:a.lastName,phoneNumber:a.phoneNumber,pays:a.pays,occupation:a.occupation,region:a.region,avatars:a.avatars||[]}})),t=(0,o.Z)(i,1)[0],b=(0,l.cI)({resolver:(0,u.X)(L),mode:"all",defaultValues:t}),x=function(e){a(m.Z.doUpdateProfile(e))};return(0,w.jsxs)("div",{className:"app__updateprofile",children:[(0,w.jsx)(d.rU,{to:"/profile",children:(0,w.jsxs)("div",{className:"retour",children:[(0,w.jsx)("i",{className:"fa-solid fa-arrow-left"})," Retour"]})}),(0,w.jsx)(v.Z,{children:(0,w.jsx)(l.RV,(0,r.Z)((0,r.Z)({},b),{},{children:(0,w.jsxs)("div",{className:"modifyprofile",children:[(0,w.jsx)(I,{name:"avatars",label:"user.fields.avatars",storage:c.Z.values.userAvatarsProfiles,max:1}),(0,w.jsxs)("div",{className:"profile__user",children:[(0,w.jsxs)("div",{className:"profile__detaill",children:[(0,w.jsx)("div",{className:"title__profile",children:n.fullName}),(0,w.jsxs)("div",{className:"title__description",children:[n.occupation,", ",n.pays]})]}),(0,w.jsx)("form",{onSubmit:b.handleSubmit(x),children:(0,w.jsx)("div",{className:"Login__container",children:(0,w.jsxs)("div",{className:"container__form",children:[(0,w.jsx)(g.Z,{name:"firstName",label:(0,G.ag)("user.fields.firstName"),placeholder:"Nom",autoComplete:"firstName",autoFocus:!0}),(0,w.jsx)(g.Z,{name:"lastName",label:(0,G.ag)("user.fields.lastName"),placeholder:"Pr\xe9nom",autoComplete:"Pr\xe9nom"}),(0,w.jsx)(R.Z,{name:"pays",label:(0,G.ag)("user.fields.pays"),options:E.Z.pays.map((function(a){return{value:a,label:(0,G.ag)("user.enumerators.pays.".concat(a))}}))}),b.watch().pays&&"Tunisia"===b.watch().pays&&(0,w.jsx)(R.Z,{name:"region",label:(0,G.ag)("user.fields.region"),options:E.Z.regionTunisie.map((function(a){return{value:a,label:(0,G.ag)("user.enumerators.region.".concat(a))}}))}),(0,w.jsx)(R.Z,{name:"occupation",label:(0,G.ag)("user.fields.occupation"),options:E.Z.occupation.map((function(a){return{value:a,label:(0,G.ag)("user.enumerators.occupation.".concat(a))}}))}),(0,w.jsx)(g.Z,{name:"phoneNumber",label:(0,G.ag)("user.fields.phoneNumber"),autoComplete:"phoneNumber"}),(0,w.jsx)("div",{className:"form__group",children:(0,w.jsxs)("div",{className:"input-group",children:[(0,w.jsx)("label",{htmlFor:"email",children:(0,G.ag)("user.fields.email")}),(0,w.jsx)("input",{type:"text",className:"form-control",id:"email",name:"email",value:n.email,readOnly:!0})]})}),(0,w.jsx)("div",{className:"form__oublier",children:(0,w.jsx)("div",{className:"oublier",children:(0,w.jsx)(d.rU,{to:"/password-change",className:"reset",children:"Changer mot de passe"})})}),(0,w.jsxs)("div",{className:"item__button",children:[(0,w.jsx)("button",{className:"cancel__button",onClick:function(){Object.keys(t).forEach((function(a){b.setValue(a,t[a])}))},type:"button",disabled:e,children:(0,G.ag)("common.reset")}),(0,w.jsxs)("button",{className:"form__button",onClick:b.handleSubmit(x),disabled:e,children:[(0,w.jsx)(h.Z,{loading:e}),(0,G.ag)("common.save")]})]})]})})})]})]})}))})]})}},2107:function(a,e,n){n(72791);var i=n(87705),t=n(34141),r=n(80184);function o(a){var e=a.label,n=a.description,o=a.name,s=a.hint,l=a.type,u=(a.placeholder,a.autoFocus),c=a.autoComplete,d=a.required,m=a.externalErrorMessage,p=a.disabled,f=a.endAdornment,h=(0,i.Gc)(),g=h.register,b=h.errors,x=h.formState,v=x.touched,_=x.isSubmitted,N=t.Z.errorMessage(o,b,v,_,m);return(0,r.jsxs)("div",{className:"form__group",children:[(0,r.jsxs)("div",{className:f?"input-group":"",children:[Boolean(e)&&(0,r.jsx)("label",{className:"".concat(d?"required":null),htmlFor:o,children:e}),n,(0,r.jsx)("input",{id:o,name:o,type:l,ref:g,onChange:function(e){a.onChange&&a.onChange(e.target.value)},onBlur:function(e){a.onBlur&&a.onBlur(e)},autoFocus:u||void 0,autoComplete:c||void 0,disabled:p,className:"form-control ".concat(N?"is-invalid":"")}),f&&(0,r.jsx)("div",{className:"input-group-append",children:(0,r.jsx)("span",{className:"input-group-text",children:f})})]}),(0,r.jsx)("div",{className:"invalid-feedback",children:N}),Boolean(s)&&(0,r.jsx)("small",{className:"form-text text-muted",children:s})]})}o.defaultProps={type:"text",required:!1},e.Z=o},40253:function(a,e,n){n.d(e,{Z:function(){return N}});n(1413);var i=n(72791),t=n(15671),r=n(43144),o=n(60136),s=n(82963),l=n(61120),u=n(85781),c=n(64274),d=(n(54164),n(17826)),m=(n(89550),n(16075),n(52581)),p=n(45482);function f(a){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(a){return!1}}();return function(){var n,i=(0,l.Z)(a);if(e){var t=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,t)}else n=i.apply(this,arguments);return(0,s.Z)(this,n)}}i.Component;var h=(0,m.m)(d.S),g=n(25930),b=n(87705),x=n(34141),v=n(80184);function _(a){var e=a.label,n=a.name,t=a.hint,r=a.options,o=a.required,s=a.mode,l=a.placeholder,u=a.isClearable,c=a.externalErrorMessage,d=(0,b.Gc)(),m=d.register,p=d.errors,f=d.formState,_=f.touched,N=f.isSubmitted,j=d.setValue,y=d.watch,C=x.Z.errorMessage(n,p,_,N,c),Z=y(n);(0,i.useEffect)((function(){m({name:n})}),[m,n]);var S=function(){return Z?Z.map((function(a){return r.find((function(e){return e.value===a}))})):[]},k=function(){var e=a.options;return null!=Z?e.find((function(a){return a.value===Z})):null},w=function(e){if(!e)return j(n,[],{shouldValidate:!0,shouldDirty:!0}),void(a.onChange&&a.onChange([]));var i=e.map((function(a){return a?a.value:a})).filter((function(a){return null!=a}));j(n,i,{shouldValidate:!0,shouldDirty:!0}),a.onChange&&a.onChange(i)},M=function(e){if(!e)return j(n,null,{shouldValidate:!0,shouldDirty:!0}),void(a.onChange&&a.onChange(null));j(n,e.value,{shouldValidate:!0,shouldDirty:!0}),a.onChange&&a.onChange(e.value)};Boolean(C);return(0,v.jsxs)("div",{className:"form-select",children:[Boolean(e)&&(0,v.jsx)("label",{className:"col-form-label ".concat(o?"required":null),children:e}),(0,v.jsx)("div",{style:{paddingBottom:"7px"}}),(0,v.jsx)(h,{value:"multiple"===a.mode?S():k(),onChange:function(e){return"multiple"===a.mode?w(e):M(e)},onBlur:function(e){a.onBlur&&a.onBlur(e)},id:n,name:n,options:r,isMulti:"multiple"===s,placeholder:l||"",isClearable:u,loadingMessage:function(){return(0,g.ag)("autocomplete.loading")},noOptionsMessage:function(){return(0,g.ag)("autocomplete.noOptions")}}),(0,v.jsx)("div",{className:"invalid-feedback",children:C}),Boolean(t)&&(0,v.jsx)("small",{className:"form-text text-muted",children:t})]})}_.defaultProps={required:!1,isClearable:!0};var N=_},57463:function(a,e,n){var i=n(84011),t={status:["active","invited","empty-permissions"],roles:Object.keys(i.Z.values),occupation:["Etudiant","Universitaire","Journalist","Societe_Civile","ONG_International","Secteur_Public","Organisme_Recherche","Mouvement_Social","Mouvement_Artistique","Entreprenariat_Social","Secteur_Prive","Activiste_Independant","Avocat","Parti_Politique","Autre"],regionTunisie:["tunis","ariana","beja","ben_arouss","bizerte","gabes","gafsa","jendouba","kairouan","kasserine","kebili","kef","mahdia","manouba","medenine","monastir","nabeul","sfax","sidi_bouzid","siliana","sousse","tataouine","tozeur","zaghouan"],pays:["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua_and_Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","The_Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia_and_Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina_Faso","Burundi","Cabo_Verde","Cambodia","Cameroon","Canada","Central_African_Republic","Chad","Chile","China","Colombia","Comoros","Congo,_Democratic_Republic_of_the","Congo,_Republic_of_the","Costa_Rica","C\xf4te_d\u2019Ivoire","Croatia","Cuba","Cyprus","Czech_Republic","Denmark","Djibouti","Dominica","Dominican_Republic","East_Timor_(Timor-Leste)","Ecuador","Egypt","El_Salvador","Equatorial_Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji","Finland","France","Gabon","The_Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea,_North","Korea,_South","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall_Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar_(Burma)","Namibia","Nauru","Nepal","Netherlands","New_Zealand","Nicaragua","Niger","Nigeria","North_Macedonia","Norway","Oman","Pakistan","Palau","Panama","Papua_New_Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Saint_Kitts_and_Nevis","Saint_Lucia","Saint_Vincent_and_the_Grenadines","Samoa","San_Marino","Sao_Tome_and_Principe","Saudi_Arabia","Senegal","Serbia","Seychelles","Sierra_Leone","Singapore","Slovakia","Slovenia","Solomon_Islands","Somalia","South_Africa","Spain","Sri_Lanka","Sudan","Sudan,_South","Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad_and_Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United_Arab_Emirates","United_Kingdom","United_States","Uruguay","Uzbekistan","Vanuatu","Vatican_City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"]};e.Z=t}}]);
//# sourceMappingURL=892.59956c7a.chunk.js.map